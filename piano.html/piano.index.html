<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Biblioteca de Partituras de Piano</title>
    <style>
      @import url("https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap");

      :root {
        color-scheme: light;
        --bg: #f7f4f2;
        --surface: #ffffff;
        --primary: #3f4f6a;
        --accent: #c28e5c;
        --text: #1d1b1a;
        --muted: #6d6662;
        --border: #e6ded8;
        --shadow: 0 15px 30px rgba(63, 79, 106, 0.12);
      }

      * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
      }

      body {
        font-family: "Inter", sans-serif;
        background: var(--bg);
        color: var(--text);
        line-height: 1.6;
      }

      a {
        color: inherit;
        text-decoration: none;
      }

      .hero {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        gap: 2.5rem;
        padding: 4rem 7vw 3rem;
        background: linear-gradient(135deg, #f6efe9, #f7f4f2);
        align-items: center;
      }

      .hero__content h1 {
        font-size: clamp(2.4rem, 3vw, 3.4rem);
        margin-bottom: 1rem;
        color: var(--primary);
      }

      .hero__content p {
        margin-bottom: 1.5rem;
        max-width: 520px;
        color: var(--muted);
      }

      .eyebrow {
        text-transform: uppercase;
        letter-spacing: 0.12em;
        font-size: 0.75rem;
        font-weight: 600;
        color: var(--accent);
      }

      .hero__actions {
        display: flex;
        flex-wrap: wrap;
        gap: 1rem;
      }

      .hero__card {
        background: var(--surface);
        border-radius: 20px;
        padding: 2rem;
        box-shadow: var(--shadow);
        border: 1px solid var(--border);
      }

      .hero__card ul {
        list-style: none;
        margin-top: 1rem;
        display: grid;
        gap: 0.75rem;
        color: var(--muted);
      }

      .hero__card li strong {
        color: var(--primary);
        margin-right: 0.4rem;
      }

      .hero__note {
        margin-top: 1rem;
        font-size: 0.9rem;
        color: var(--muted);
      }

      main {
        padding: 0 7vw 4rem;
        display: grid;
        gap: 2.5rem;
      }

      .panel {
        background: var(--surface);
        border-radius: 24px;
        padding: 2.5rem;
        border: 1px solid var(--border);
        box-shadow: var(--shadow);
      }

      .panel__header h2 {
        color: var(--primary);
        margin-bottom: 0.5rem;
        font-size: clamp(1.6rem, 2.4vw, 2.2rem);
      }

      .panel__header p {
        color: var(--muted);
        margin-bottom: 2rem;
      }

      .form {
        display: grid;
        gap: 1.5rem;
      }

      .form__row {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
        gap: 1.25rem;
      }

      label {
        display: grid;
        gap: 0.5rem;
        font-weight: 500;
        color: var(--primary);
      }

      input,
      select,
      textarea {
        border: 1px solid var(--border);
        padding: 0.75rem 0.9rem;
        border-radius: 12px;
        font-family: inherit;
        font-size: 1rem;
        color: var(--text);
        background: #fbfaf9;
      }

      input:focus,
      select:focus,
      textarea:focus {
        outline: 2px solid rgba(194, 142, 92, 0.4);
        border-color: var(--accent);
      }

      .form__actions {
        display: flex;
        flex-wrap: wrap;
        gap: 1rem;
      }

      .button {
        border: none;
        border-radius: 999px;
        padding: 0.75rem 1.6rem;
        font-weight: 600;
        cursor: pointer;
        transition: transform 0.2s ease, box-shadow 0.2s ease;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        text-align: center;
      }

      .button--primary {
        background: var(--primary);
        color: #fff;
        box-shadow: 0 8px 16px rgba(63, 79, 106, 0.25);
      }

      .button--ghost {
        background: #f0ebe7;
        color: var(--primary);
        border: 1px solid transparent;
      }

      .button:hover {
        transform: translateY(-1px);
        box-shadow: 0 8px 18px rgba(63, 79, 106, 0.18);
      }

      .filters {
        display: flex;
        flex-wrap: wrap;
        gap: 1rem;
        align-items: flex-end;
        justify-content: space-between;
        margin-bottom: 2rem;
      }

      .filters__group {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 1rem;
        flex: 1;
      }

      .cards {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
        gap: 1.5rem;
      }

      .card {
        background: #fbfaf9;
        border-radius: 18px;
        border: 1px solid var(--border);
        padding: 1.5rem;
        display: grid;
        gap: 0.75rem;
      }

      .card__header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        gap: 1rem;
      }

      .card__header h3 {
        font-size: 1.2rem;
        color: var(--primary);
      }

      .tag {
        background: rgba(194, 142, 92, 0.2);
        color: var(--accent);
        padding: 0.3rem 0.75rem;
        border-radius: 999px;
        font-size: 0.75rem;
        font-weight: 600;
      }

      .card__meta {
        color: var(--muted);
        font-size: 0.95rem;
      }

      .card__actions {
        display: flex;
        gap: 0.75rem;
        flex-wrap: wrap;
      }

      .schedule {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
        gap: 1.5rem;
      }

      .schedule__day {
        background: #fbfaf9;
        border-radius: 16px;
        border: 1px solid var(--border);
        padding: 1.5rem;
      }

      .schedule__day h3 {
        color: var(--primary);
        margin-bottom: 0.75rem;
      }

      .schedule__day ul {
        list-style: none;
        color: var(--muted);
        display: grid;
        gap: 0.6rem;
      }

      .progress {
        display: grid;
        gap: 0.75rem;
        margin-bottom: 1.5rem;
      }

      .progress__bar {
        width: 100%;
        height: 12px;
        background: #efe7e2;
        border-radius: 999px;
        overflow: hidden;
      }

      .progress__bar span {
        display: block;
        height: 100%;
        width: 0%;
        background: linear-gradient(120deg, var(--accent), #d9b08a);
        transition: width 0.3s ease;
      }

      .progress__value {
        font-weight: 600;
        color: var(--primary);
      }

      .form--compact {
        margin-bottom: 1.5rem;
      }

      .checkbox {
        display: flex;
        gap: 0.6rem;
        align-items: center;
        font-weight: 500;
        color: var(--primary);
      }

      .checkbox input {
        width: 18px;
        height: 18px;
        accent-color: var(--accent);
      }

      .footer {
        text-align: center;
        padding: 2rem 1rem 3rem;
        color: var(--muted);
      }

      @media (max-width: 600px) {
        .hero {
          padding: 3rem 6vw 2rem;
        }

        .panel {
          padding: 2rem 1.5rem;
        }

        .filters {
          align-items: stretch;
        }
      }
    </style>
  </head>
  <body>
    <header class="hero">
      <div class="hero__content">
        <p class="eyebrow">Organização, busca e prática</p>
        <h1>Biblioteca de Partituras de Piano</h1>
        <p>
          Centralize suas partituras favoritas em um único lugar. Cadastre novas obras,
          acompanhe níveis de dificuldade e mantenha suas práticas sempre organizadas.
        </p>
        <div class="hero__actions">
          <a class="button button--primary" href="#cadastro">Adicionar partitura</a>
          <a class="button button--ghost" href="#colecao">Ver coleção</a>
        </div>
      </div>
      <div class="hero__card">
        <h2>Resumo rápido</h2>
        <ul>
          <li><strong>24</strong> partituras cadastradas</li>
          <li><strong>8</strong> em estudo</li>
          <li><strong>6</strong> prontas para recital</li>
        </ul>
        <p class="hero__note">
          Dica: use este modelo para editar ou duplicar registros conforme sua necessidade.
        </p>
      </div>
    </header>

    <main>
      <section class="panel" id="cadastro">
        <div class="panel__header">
          <h2>Cadastro de nova partitura</h2>
          <p>Preencha os detalhes para manter sua biblioteca sempre completa.</p>
        </div>
        <form class="form" id="cadastro-form">
          <div class="form__row">
            <label>
              Título da obra
              <input id="titulo" type="text" placeholder="Ex.: Clair de Lune" required />
            </label>
            <label>
              Compositor
              <input id="compositor" type="text" placeholder="Ex.: Claude Debussy" required />
            </label>
          </div>
          <div class="form__row">
            <label>
              Nível de dificuldade
              <select id="dificuldade" required>
                <option>Iniciante</option>
                <option>Intermediário</option>
                <option>Avançado</option>
              </select>
            </label>
            <label>
              Andamento recomendado
              <input id="andamento" type="text" placeholder="Ex.: 72 bpm" />
            </label>
          </div>
          <div class="form__row">
            <label>
              Arquivo da partitura (PDF)
              <input id="arquivo" type="file" accept=".pdf" />
            </label>
            <label>
              Status de estudo
              <select id="status" required>
                <option>Nova</option>
                <option>Em estudo</option>
                <option>Pronta para recital</option>
              </select>
            </label>
          </div>
          <label>
            Observações
            <textarea
              id="observacoes"
              rows="4"
              placeholder="Anote dedilhados, trechos difíceis e metas de prática."
            ></textarea>
          </label>
          <div class="form__actions">
            <button class="button button--primary" type="submit">Salvar registro</button>
            <button class="button button--ghost" type="reset">Limpar formulário</button>
          </div>
        </form>
      </section>

      <section class="panel" id="colecao">
        <div class="panel__header">
          <h2>Coleção de partituras</h2>
          <p>Edite os cartões abaixo para refletir a sua biblioteca real.</p>
        </div>
        <div class="filters">
          <div class="filters__group">
            <label>
              Buscar por título
              <input type="search" placeholder="Digite o nome da obra" />
            </label>
            <label>
              Categoria
              <select>
                <option>Todas</option>
                <option>Barroco</option>
                <option>Clássico</option>
                <option>Romântico</option>
                <option>Contemporâneo</option>
              </select>
            </label>
          </div>
          <button class="button button--ghost" type="button">Aplicar filtros</button>
        </div>

        <div class="cards" id="colecao-cards">
          <article class="card">
            <div class="card__header">
              <h3>Nocturne Op. 9 nº 2</h3>
              <span class="tag">Romântico</span>
            </div>
            <p class="card__meta">Compositor: Frédéric Chopin</p>
            <p class="card__meta">Dificuldade: Intermediário</p>
            <p class="card__meta">Status: Em estudo</p>
            <div class="card__actions">
              <button class="button button--ghost" type="button">Abrir PDF</button>
              <button class="button button--primary" type="button">Marcar progresso</button>
            </div>
          </article>

          <article class="card">
            <div class="card__header">
              <h3>Gymnopédie nº 1</h3>
              <span class="tag">Contemporâneo</span>
            </div>
            <p class="card__meta">Compositor: Erik Satie</p>
            <p class="card__meta">Dificuldade: Iniciante</p>
            <p class="card__meta">Status: Pronta para recital</p>
            <div class="card__actions">
              <button class="button button--ghost" type="button">Abrir PDF</button>
              <button class="button button--primary" type="button">Marcar progresso</button>
            </div>
          </article>

          <article class="card">
            <div class="card__header">
              <h3>Prelúdio em Dó Maior</h3>
              <span class="tag">Barroco</span>
            </div>
            <p class="card__meta">Compositor: J.S. Bach</p>
            <p class="card__meta">Dificuldade: Avançado</p>
            <p class="card__meta">Status: Nova</p>
            <div class="card__actions">
              <button class="button button--ghost" type="button">Abrir PDF</button>
              <button class="button button--primary" type="button">Marcar progresso</button>
            </div>
          </article>

          <article class="card">
            <div class="card__header">
              <h3>Symphony No. 5</h3>
              <span class="tag">Clássico</span>
            </div>
            <p class="card__meta">Compositor: Ludwig van Beethoven</p>
            <p class="card__meta">Tonalidade: Dó menor</p>
            <p class="card__meta">Formato: Piano reduction (PDF)</p>
            <div class="card__actions">
              <a
                class="button button--ghost"
                href="https://pt.cantorion.org/download/96/93126b483426bfd290b7ea9736ddb5eb/Sinfonia%20n.%C2%BA%205%20%28Symphony%20No.%205%29%20Piano%20reduction%20-%20Piano.pdf"
                target="_blank"
                rel="noreferrer"
              >
                Abrir PDF
              </a>
              <button class="button button--primary" type="button">Marcar progresso</button>
            </div>
          </article>
        </div>
      </section>

      <section class="panel" id="rotina">
        <div class="panel__header">
          <h2>Rotina de estudos</h2>
          <p>
            Crie sessões de prática e acompanhe o progresso de conclusão em tempo real.
          </p>
        </div>
        <div class="progress">
          <div>
            <h3>Progresso semanal</h3>
            <p class="card__meta">Complete sessões para avançar o marcador.</p>
          </div>
          <div class="progress__bar">
            <span id="progress-fill"></span>
          </div>
          <p class="progress__value" id="progress-value">0%</p>
        </div>
        <form class="form form--compact" id="rotina-form">
          <div class="form__row">
            <label>
              Tarefa de estudo
              <input
                id="rotina-tarefa"
                type="text"
                placeholder="Ex.: Escalas maiores + arpejos"
                required
              />
            </label>
            <label>
              Tempo (min)
              <input id="rotina-tempo" type="number" min="5" placeholder="30" required />
            </label>
            <label>
              Partitura relacionada
              <input id="rotina-obra" type="text" placeholder="Ex.: Symphony No. 5" />
            </label>
          </div>
          <div class="form__actions">
            <button class="button button--primary" type="submit">Adicionar sessão</button>
            <button class="button button--ghost" type="button" id="limpar-rotina">
              Limpar sessões
            </button>
          </div>
        </form>
        <div class="schedule" id="rotina-lista"></div>
      </section>
    </main>

    <footer class="footer">
      <p>Pronto para uso imediato. Personalize este modelo com suas partituras reais.</p>
    </footer>
    <script>
      const cadastroForm = document.getElementById("cadastro-form");
      const cardsContainer = document.getElementById("colecao-cards");

      const rotinaForm = document.getElementById("rotina-form");
      const rotinaLista = document.getElementById("rotina-lista");
      const progressFill = document.getElementById("progress-fill");
      const progressValue = document.getElementById("progress-value");
      const limparRotinaButton = document.getElementById("limpar-rotina");

      const storageKeys = {
        scores: "pianoScores",
        rotina: "pianoRotina",
      };

      const loadFromStorage = (key, fallback) => {
        try {
          const value = JSON.parse(localStorage.getItem(key));
          return value ?? fallback;
        } catch {
          return fallback;
        }
      };

      const saveToStorage = (key, value) => {
        localStorage.setItem(key, JSON.stringify(value));
      };

      const createCard = ({
        title,
        composer,
        difficulty,
        status,
        tempo,
        notes,
        pdfUrl,
      }) => {
        const card = document.createElement("article");
        card.className = "card";
        card.innerHTML = `
          <div class="card__header">
            <h3>${title}</h3>
            <span class="tag">Coleção pessoal</span>
          </div>
          <p class="card__meta">Compositor: ${composer}</p>
          <p class="card__meta">Dificuldade: ${difficulty}</p>
          <p class="card__meta">Status: ${status}</p>
          ${tempo ? `<p class="card__meta">Andamento: ${tempo}</p>` : ""}
          ${notes ? `<p class="card__meta">Notas: ${notes}</p>` : ""}
          <div class="card__actions">
            ${
              pdfUrl
                ? `<a class="button button--ghost" href="${pdfUrl}" target="_blank" rel="noreferrer">Abrir PDF</a>`
                : `<button class="button button--ghost" type="button">Abrir PDF</button>`
            }
            <button class="button button--primary" type="button">Marcar progresso</button>
          </div>
        `;
        return card;
      };

      const renderStoredScores = () => {
        const storedScores = loadFromStorage(storageKeys.scores, []);
        storedScores.forEach((score) => {
          cardsContainer.appendChild(createCard(score));
        });
      };

      cadastroForm.addEventListener("submit", (event) => {
        event.preventDefault();
        const pdfFile = document.getElementById("arquivo").files[0];
        const pdfUrl = pdfFile ? URL.createObjectURL(pdfFile) : "";

        const score = {
          title: document.getElementById("titulo").value.trim(),
          composer: document.getElementById("compositor").value.trim(),
          difficulty: document.getElementById("dificuldade").value,
          status: document.getElementById("status").value,
          tempo: document.getElementById("andamento").value.trim(),
          notes: document.getElementById("observacoes").value.trim(),
          pdfUrl,
        };

        if (!score.title || !score.composer) {
          return;
        }

        cardsContainer.prepend(createCard(score));
        const storedScores = loadFromStorage(storageKeys.scores, []);
        storedScores.unshift(score);
        saveToStorage(storageKeys.scores, storedScores);
        cadastroForm.reset();
      });

      const updateProgress = (rotinas) => {
        if (!rotinas.length) {
          progressFill.style.width = "0%";
          progressValue.textContent = "0%";
          return;
        }
        const completed = rotinas.filter((item) => item.done).length;
        const percent = Math.round((completed / rotinas.length) * 100);
        progressFill.style.width = `${percent}%`;
        progressValue.textContent = `${percent}%`;
      };

      const renderRotinas = () => {
        const rotinas = loadFromStorage(storageKeys.rotina, []);
        rotinaLista.innerHTML = "";

        rotinas.forEach((rotina, index) => {
          const card = document.createElement("div");
          card.className = "schedule__day";
          card.innerHTML = `
            <h3>${rotina.task}</h3>
            <ul>
              <li>Tempo: ${rotina.minutes} min</li>
              ${rotina.score ? `<li>Partitura: ${rotina.score}</li>` : ""}
            </ul>
            <label class="checkbox">
              <input type="checkbox" ${rotina.done ? "checked" : ""} />
              Concluída
            </label>
          `;
          const checkbox = card.querySelector("input");
          checkbox.addEventListener("change", () => {
            const updated = loadFromStorage(storageKeys.rotina, []);
            updated[index].done = checkbox.checked;
            saveToStorage(storageKeys.rotina, updated);
            updateProgress(updated);
          });
          rotinaLista.appendChild(card);
        });

        updateProgress(rotinas);
      };

      rotinaForm.addEventListener("submit", (event) => {
        event.preventDefault();
        const rotina = {
          task: document.getElementById("rotina-tarefa").value.trim(),
          minutes: document.getElementById("rotina-tempo").value.trim(),
          score: document.getElementById("rotina-obra").value.trim(),
          done: false,
        };

        if (!rotina.task || !rotina.minutes) {
          return;
        }

        const rotinas = loadFromStorage(storageKeys.rotina, []);
        rotinas.push(rotina);
        saveToStorage(storageKeys.rotina, rotinas);
        rotinaForm.reset();
        renderRotinas();
      });

      limparRotinaButton.addEventListener("click", () => {
        saveToStorage(storageKeys.rotina, []);
        renderRotinas();
      });

      renderStoredScores();
      renderRotinas();
    </script>
  </body>
</html>

